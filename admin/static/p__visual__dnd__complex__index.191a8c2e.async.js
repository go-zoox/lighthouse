(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[74],{Vkwa:function(e,a,t){e.exports={panel:"panel___2rvNl",list:"list___2cJL3","drop-container":"drop-container___33fMU","drag-container":"drag-container___1WRK6",header:"header___N48Ko",body:"body___k1zP8",container:"container___38EQp",box:"box___1NUyt",over:"over___3NUug"}},YHrL:function(e,a,t){"use strict";t.r(a);var r=t("p0pE"),n=t.n(r),o=t("qIgq"),c=t.n(o),l=t("q1tI"),i=t.n(l),s=t("Vkwa"),m=t.n(s),d={dragItem:null},p=Object(l["createContext"])({}),g=e=>{var a=Object(l["useState"])(d),t=c()(a,2),r=t[0],n=t[1],o=Object(l["useMemo"])(()=>({state:r,setState:n}),[r]);return i.a.createElement(p.Provider,Object.assign({value:o},e))},v=()=>{var e=Object(l["useContext"])(p);if(!e)throw new Error("useDragContext must be used inside a DragProvider");var a=e.state,t=e.setState;return[a,t]},u=()=>{var e=v(),a=c()(e,2),t=a[0],r=a[1];if(!t)return[null];var n=t||{},o=n.dragItem,l=e=>r({dragItem:e});return[o,l]},_=(()=>{var e=1;return()=>{return++e}})(),y=e=>{var a=e.data,t=u(),r=c()(t,2),n=(r[0],r[1]),o=(e,a)=>{a.target.style.opacity="0.4",a.dataTransfer.setData("text/plain",a.target.id),console.log("e:",a),n(e)},l=e=>{e.target.style.opacity="1"},s=e=>{},d=e=>{},p=e=>{return e.stopPropagation(),!1};return i.a.createElement("div",{className:m.a["drag-container"]},i.a.createElement("div",{className:m.a.header},"Drag \u5bb9\u5668"),i.a.createElement("div",{className:"".concat(m.a.body," ").concat(m.a.container)},a.map(e=>i.a.createElement("div",{key:e.type,className:m.a.box,draggable:!0,onDragStart:a=>o(e,a),onDragEnd:l,onDragEnter:s,onDragLeave:d,onDrop:p},e.name))))},D=e=>{var a=e.name,t=e.data,r=e.onDrop,n=u(),o=c()(n,2),l=o[0],s=o[1];console.log("dragItem:",l);var d=e=>{},p=e=>{},g=e=>{return e.preventDefault&&e.preventDefault(),!1},v=e=>{return e.stopPropagation(),r(a),!1},_=(e,a)=>{if(e.preventDefault&&e.preventDefault(),l!==a)return console.log("isOver:",e.target),!1};return i.a.createElement("div",{className:m.a["drop-container"]},i.a.createElement("div",{className:m.a.header},"Board ",a),i.a.createElement("div",{className:m.a.body,onDragEnter:d,onDragOver:g,onDragLeave:p,onDrop:v},t.map(e=>{return i.a.createElement("div",{key:e.id,className:m.a.container,"data-image":e.image,draggable:!0,onDragStart:()=>s(e),onDragOver:a=>_(a,e)},i.a.createElement("h1",null,e.name),i.a.createElement("div",null,"\u63d0\u793a\u4fe1\u606f"))})))},E=()=>{var e=u(),a=c()(e,2),t=a[0];a[1];console.log("app dragItem:",t);var r=Object(l["useState"])([{type:"A",name:"\u7ec4\u4ef6A",accessType:"copy"},{type:"B",name:"\u7ec4\u4ef6B",accessType:"copy"},{type:"C",name:"\u7ec4\u4ef6C",accessType:"copy"},{type:"D",name:"\u7ec4\u4ef6D",accessType:"copy"}]),o=c()(r,2),s=o[0],d=(o[1],Object(l["useState"])([{id:"1",name:"A - 1",container:{name:"A"},image:{type:"A"}},{id:"2",name:"B - 1",container:{name:"B"},image:{type:"B"}}])),p=c()(d,2),g=p[0],v=p[1],E=e=>{console.log("onDragEnd:",t);var a=!(null===t||void 0===t?void 0:t.image);if(a){var r=_();return v([...g,{id:"id_".concat(r),name:"".concat(t.name,"_").concat(r),container:{name:e},image:{type:t.type}}])}if(e!==t.container.name){var o=g.filter(e=>e.id!==t.id);v([...o,n()({},t,{container:{name:e}})])}};return i.a.createElement("div",{className:m.a.panel},i.a.createElement(y,{data:s}),i.a.createElement("div",{className:m.a.list},i.a.createElement(D,{name:"A",data:g.filter(e=>"A"===e.container.name),onDrop:E}),i.a.createElement(D,{name:"B",data:g.filter(e=>"B"===e.container.name),onDrop:E})))};a["default"]=(()=>i.a.createElement(g,null,i.a.createElement(E,null)))}}]);