(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"847w":function(e,t,a){e.exports={item:"item___2gR87",logo:"logo___2lOHa",info:"info___eewLs",name:"name___tmxIx",description:"description___1vS0Z",seperator:"seperator___2vmgY",value:"value___3Hqn3",actions:"actions___DA9TC"}},Lv9I:function(e,t,a){e.exports={container:"container___3Ne1j",input:"input___21qkr",upload:"upload___3WJD6",icon:"icon___O6gkV"}},"ahF+":function(e,t,a){e.exports={container:"container___2kAbE",header:"header___2fw3t",logo:"logo___24cVb",info:"info___WY4EG",title:"title___1ZGvY",clientId:"clientId___20c4s",body:"body___3nP3Z",left:"left___3caL9",right:"right___mbwhU",dangerZone:"dangerZone___33hY4",dangerItem:"dangerItem___2XmTg",description:"description___3SQ4L"}},es3J:function(e,t,a){e.exports={container:"container___1ds5A",item:"item___3Y262",icon:"icon___25dzh",actions:"actions___CBpVN"}},qk6r:function(e,t,a){"use strict";a.r(t);var n=a("p0pE"),l=a.n(n),r=(a("cWXX"),a("/ezw")),i=(a("lUTK"),a("BvKs")),o=(a("+L6B"),a("2/Rp")),c=(a("Znn+"),a("ZTPi")),s=a("q1tI"),d=a.n(s),u=a("/MKj"),p=a("3NWV"),m=a("I9o4"),h=a("TSYQ"),v=a.n(h),b=a("847w"),f=a.n(b);class y extends s["PureComponent"]{constructor(){super(...arguments),this.onItemClick=(()=>{var e=this.props,t=e.name,a=e.value;this.props.onItemClick(t,a)})}renderLogo(){var e=this.props.logo;return"undefined"===typeof e?null:"string"===typeof e?d.a.createElement("div",{className:f.a.logo},d.a.createElement("img",{className:f.a.image,alt:"logo",src:e})):d.a.createElement("div",{className:f.a.logo},e)}renderAction(){var e=this.props,t=e.actionText,a=(e.active,e.action);return"string"===typeof t?d.a.createElement("div",{className:f.a.action,onClick:this.onItemClick},t):a}render(){var e=this.props,t=e.className,a=e.titleClassName,n=e.descriptionClassName,l=e.name,r=e.label,i=e.value,o=v()(f.a.item,t),c=v()(f.a.name,a),s=v()(f.a.description,n);return d.a.createElement("div",{className:o},this.renderLogo(),d.a.createElement("div",{className:f.a.info},d.a.createElement("div",{className:c},l),d.a.createElement("div",{className:s},d.a.createElement("span",{className:f.a.label},r),d.a.createElement("span",{className:v()(f.a.seperator,{hide:null==i})},":"),d.a.createElement("span",{className:f.a.value},i))),d.a.createElement("div",{className:f.a.actions},this.renderAction()))}}var g=a("bDt1"),E=a("WsrF"),k=(a("XlDN"),a("jCWc"),a("kPKH")),x=(a("DZo9"),a("8z0m")),C=(a("BoS7"),a("Sdc0")),_=(a("14J3"),a("BMrR")),S=(a("sRBo"),a("kaz8")),w=(a("5NDa"),a("5rEg")),O=a("lfch"),I=a("rLCj"),j=a("q9hl"),N=a("sxGJ"),P=a.n(N);class R extends s["Component"]{render(){var e=this.props,t=e.className,a=e.value;return a?d.a.createElement("img",{className:t,src:a}):null}}var A=a("Lv9I"),M=a.n(A),F={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},T=e=>{var t;switch(e.type){case"input":case"input.password":var a=e.type.split(".")[1];return e.form.getFieldDecorator(e.name)(d.a.createElement(w["a"],{className:M.a.input,type:a,disabled:e.disable}));case"textarea":return e.form.getFieldDecorator(e.name)(d.a.createElement(w["a"].TextArea,{className:M.a.textarea,rows:4}));case"upload":return e.form.getFieldDecorator(e.name)(d.a.createElement(R,{className:M.a.upload}));case"checkbox":return e.form.getFieldDecorator(e.name)(d.a.createElement(S["a"].Group,{style:{width:"100%"}},null===(t=e.options)||void 0===t?void 0:t.map(e=>d.a.createElement(_["a"],{key:e},d.a.createElement(S["a"],{value:e},e)))));case"switch":return e.form.getFieldDecorator(e.name,{valuePropName:"checked"})(d.a.createElement(C["a"],{className:M.a.checkbox}));default:return null}};class D extends s["PureComponent"]{constructor(){super(...arguments),this.state={fileList:[],status:"done",percent:0},this.getCopyTarget=(e=>{this.copyTarget=e}),this.onUploadChange=(e=>{var t=e.file,a=e.fileList,n=t.status,l=t.percent;if(this.setState({fileList:a,status:n,percent:l}),this.props.onUploadChange&&this.props.onUploadChange(e),"done"===n){var r,i,o,c;this.props.onUploadSuccess&&this.props.onUploadSuccess(t);var s=null!==(r=null===t||void 0===t?void 0:null===(i=t.response)||void 0===i?void 0:i.url)&&void 0!==r?r:null===t||void 0===t?void 0:null===(o=t.response)||void 0===o?void 0:null===(c=o.result)||void 0===c?void 0:c.url;this.props.onUpload&&s&&this.props.onUpload(this.props.name,s)}})}componentDidMount(){var e=this.props,t=e.onCopy,a=e.name,n=e.form;if(this.copyTarget&&t){var l=n.getFieldValue(a);this.clipboard=new P.a(this.copyTarget),this.clipboard.on("success",t.bind(null,a,l))}}componentWillUnmount(){this.clipboard&&this.clipboard.destroy()}renderCopyIcon(){var e=!!this.props.onCopy;if(!e)return null;var t=this.props.form.getFieldValue(this.props.name);return d.a.createElement("a",{className:M.a.icon,"data-clipboard-text":t,ref:this.getCopyTarget},d.a.createElement(O["a"],null))}renderRefreshIcon(){var e=this.props,t=e.name,a=e.form,n=e.onRefresh,l=!!n,r=a.getFieldValue(t);return l?d.a.createElement("a",{className:M.a.icon,onClick:this.props.onRefresh.bind(null,t,r)},d.a.createElement(I["a"],null)):null}renderUploadIcon(){var e=!!this.props.onUpload,t=this.state.fileList;return e?d.a.createElement(x["a"],{fileList:t,showUploadList:!1,onChange:this.onUploadChange,withCredentials:!0,action:"/api/resource/upload",accept:"image/*"},d.a.createElement("a",{className:M.a.icon},d.a.createElement(j["a"],null))):null}render(){var e=this.props,t={form:e.form,type:e.type,name:e.name,disable:e.disable,options:e.options};return d.a.createElement(E["a"].Item,Object.assign({className:M.a.container},F,{label:e.label}),d.a.createElement(_["a"],{gutter:8},d.a.createElement(k["a"],{span:12},T(t)),d.a.createElement(k["a"],null,this.renderCopyIcon(),this.renderRefreshIcon(),this.renderUploadIcon())))}}var z=e=>{var t=e.loading,a=e.form,n={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r=()=>{e.form.validateFields((t,a)=>{if(!t){var n=a.clientGrants.join(","),r=a.connections.join(",");e.onSubmit(l()({},a,{clientGrants:n,connections:r}))}})},i=(t,a)=>{var n;null===(n=e.onUpload)||void 0===n||n.call(e,t,a),setTimeout(()=>{r()},300)};return d.a.createElement(d.a.Fragment,null,d.a.createElement(E["a"],null,d.a.createElement(D,{form:a,label:"Name",name:"name",type:"input"}),d.a.createElement(D,{form:a,label:"Client ID",name:"clientId",type:"input",disable:!0,onCopy:e.onCopy}),d.a.createElement(D,{form:a,label:"Client Secret",name:"clientSecret",type:"input.password",disable:!0,onCopy:e.onCopy,onRefresh:e.onRefresh}),d.a.createElement(D,{form:a,label:"Description",name:"description",type:"textarea",disable:!0}),d.a.createElement(D,{form:a,label:"Redirect URI",name:"redirectUri",type:"input"}),d.a.createElement(D,{form:a,label:"Grants",name:"clientGrants",type:"checkbox",options:["authorization_code","refresh_token","password","client_credentials","provider"]}),d.a.createElement(D,{form:a,label:"isSilentAuthorized",name:"isSilentAuthorized",type:"switch"}),d.a.createElement(D,{form:a,label:"isSupportQRCodeLogin",name:"isSupportQRCodeLogin",type:"switch"}),d.a.createElement(D,{form:a,label:"Connections",name:"connections",type:"checkbox",options:["github","weibo","wechat","feishu"]}),d.a.createElement(D,{form:a,label:"Application Logo",name:"logo",type:"upload",onUpload:i}),d.a.createElement(E["a"].Item,Object.assign({},n),d.a.createElement(o["a"],{type:"primary",htmlType:"submit",loading:t,onClick:r},"\u4fdd\u5b58"))),e.renderBottom&&e.renderBottom())},U=E["a"].create({mapPropsToFields(e){var t,a;return{name:E["a"].createFormField({value:e.name}),clientId:E["a"].createFormField({value:e.clientId}),clientSecret:E["a"].createFormField({value:e.clientSecret}),description:E["a"].createFormField({value:e.description}),redirectUri:E["a"].createFormField({value:e.redirectUri}),clientGrants:E["a"].createFormField({value:(null===(t=e.clientGrants)||void 0===t?void 0:t.split(","))||[]}),logo:E["a"].createFormField({value:e.logo}),isSilentAuthorized:E["a"].createFormField({value:e.isSilentAuthorized}),connections:E["a"].createFormField({value:(null===(a=e.connections)||void 0===a?void 0:a.split(","))||[]}),isSupportQRCodeLogin:E["a"].createFormField({value:e.isSupportQRCodeLogin})}}})(z),L=a("d6i3"),q=a.n(L),V=a("1l/V"),G=a.n(V),B=a("qIgq"),W=a.n(B),Q=(a("ozfa"),a("MJZm")),H=a("sy1d"),Z=a("jnKW"),K=a("Y/ft"),J=a.n(K),X=a("tHsI"),Y=a("xvlK"),$=a("G3dp"),ee=a("/MfK"),te=a("8Skl"),ae=a("es3J"),ne=a.n(ae),le=(e,t)=>{var a=t(e);if(!a&&e.children&&e.children.length>0)return e.children.map(e=>le(e,t))},re=function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=r(t,a,n,l);if(!i&&t.children&&t.children.length>0)return t.children.map((a,l)=>e(a,l,n+1,t,r))},ie=(e,t)=>{var a=t(e);return e.children&&e.children.length>0?d.a.createElement(Q["a"].TreeNode,{key:e.path,title:a,originalNode:e},e.children.map(e=>ie(e,t))):d.a.createElement(Q["a"].TreeNode,{key:e.path,title:a,originalNode:e})},oe=e=>{var t=e.name,a=e.keyword&&e.name&&e.name.includes(e.keyword)||!1;if(a){var n=e.name.indexOf(e.keyword),l=e.name.substr(0,n),r=e.name.substr(n+e.keyword.length),i=d.a.createElement("span",{key:e.path+":keyword",style:{color:"#f50"}},e.keyword);t=[l,i,r]}return d.a.createElement("div",{className:ne.a.item,"data-path":e.path},e.icon&&d.a.createElement(p["a"],{className:ne.a.icon,type:e.icon}),d.a.createElement("span",{className:ne.a.name},t),d.a.createElement("span",{className:ne.a.actions},d.a.createElement(Y["a"],{onClick:t=>{t.stopPropagation(),e.onAddMenu(e)}}),d.a.createElement($["a"],{onClick:t=>{t.stopPropagation(),e.onUpdateMenu(e)}}),d.a.createElement(ee["a"],{onClick:t=>{t.stopPropagation(),e.onRemoveMenu(e)}})))},ce=e=>{var t=e.nodes,a=e.keyword,n=J()(e,["nodes","keyword"]),l=v()(ne.a.container,n.className),r=Object(s["useCallback"])(e=>{},[t]),i=Object(s["useCallback"])(e=>{var a=e.node.props.eventKey,l=e.dragNode.props.eventKey,r=(e.node.props.pos.split("/"),e.dropToGap),i=e.dropPosition,o=pe(t,{dragPath:l,dropPath:a,dropOnGap:r,dropPosition:i});n.onReorder&&n.onReorder(o)},[t]),o=Object(s["useCallback"])((e,t)=>{var a=t.node.props.originalNode;n.onSelect&&n.onSelect(a)},[t]),c=Object(s["useState"])([]),u=W()(c,2),p=u[0],m=u[1],h=Object(s["useCallback"])(e=>{m(e)},[t]);return Object(s["useEffect"])(()=>{if(0===p.length){var e=de({name:"",path:"/",children:t});m(e)}},[t]),Object(s["useEffect"])(()=>{if(a){var e=se({name:"",path:"/",children:t},a);m(e)}},[a]),t&&t.length?d.a.createElement(Q["a"],Object.assign({},n,{className:l,draggable:!0,blockNode:!0,switcherIcon:d.a.createElement(te["a"],null),expandedKeys:p,onExpand:h,onDragEnter:r,onDrop:i,onSelect:o}),t.map(e=>ie(e,e=>d.a.createElement(oe,Object.assign({},n,e,{keyword:a}))))):d.a.createElement("div",{style:{textAlign:"center",height:40,lineHeight:"40px"},onClick:()=>n.onAddMenu({name:"ROOT",path:"/"})},d.a.createElement("span",null,"\u5f53\u524d\u65e0\u83dc\u5355"),d.a.createElement("span",null,"\u6dfb\u52a0\u4e00\u4e2a",d.a.createElement(Y["a"],null)))};function se(e,t){var a=[];return le(e,e=>{if(t&&e.name&&-1!==e.name.indexOf(t)){var n=e.path.split("/").slice(1);n.pop();var l="/"+n.join("/");"/"!==l&&a.push(l)}}),a}function de(e){var t=[];return le(e,e=>{e.children&&e.children.length&&t.push(e.path)}),t}function ue(e){var t=e.split("/").slice(1);return t.pop(),"/"+t.join("/")}function pe(e,t){var a=Object(X["deepCopy"])(e),n=t.dragPath,l=t.dropPath,r=t.dropOnGap,i=t.dropPosition,o=l.split("/").slice(1);r&&o.pop();var c,s,d,u,p=ue(n),m=ue(l),h=n.split("/").pop(),v=[...o,h],b="/".concat(v.join("/")),f={name:"ROOT",path:"/",sort:0,children:a};le(f,e=>{e.path===n&&(c=e),e.path===p&&(d=e),e.path===l&&(s=e),e.path===m&&(u=e)});var y=d.children.indexOf(c),g=u.children.indexOf(s);d.children.splice(y,1),c.path=b,re(c,0,0,null,(e,t,a,n)=>{if(n){var l=e.path.split("/").pop(),r="".concat(n.path,"/").concat(l);e.path=r}}),r?i<g?u.children.splice(g,0,c):u.children.splice(g+1,0,c):(s.children=s.children||[],s.children.push(c));var E=[];return re(f,0,0,null,(e,t,a,n)=>{if(n){var l=n.sort||0;e.sort=100*l+t+1;e.children;var r=J()(e,["children"]);E.push(r)}}),{node:c,nest:a,flat:E}}a("IzEo");var me=a("bx4M"),he=a("LtfV"),ve=e=>{return d.a.createElement(me["a"],{style:{marginBottom:20},title:e.title},e.attributes.map(e=>d.a.createElement("div",{key:e.label,style:{height:36,lineHeight:"40px"}},d.a.createElement("span",null,e.label),d.a.createElement("span",{style:{margin:"0 12px 0 6px"}},":"),d.a.createElement("span",null,e.value))))},be=e=>{var t={title:"\u57fa\u672c\u5c5e\u6027",attributes:[{label:"\u83dc\u5355\u540d\u79f0",value:e.name},{label:"\u83dc\u5355\u8def\u5f84",value:e.path},{label:"\u83dc\u5355\u56fe\u6807",value:e.icon?d.a.createElement(p["a"],{type:e.icon}):"\u65e0"}]},a={title:"\u9ad8\u7ea7\u5c5e\u6027",attributes:[{label:"IFRAME\u5730\u5740",value:e.iframe||"\u65e0"},{label:"\u8df3\u8f6c\u5730\u5740",value:e.redirect||"\u65e0"},{label:"\u6392\u5e8f",value:e.sort||"\u9ed8\u8ba4\u6392\u5e8f"},{label:"\u662f\u5426\u9690\u85cf",value:d.a.createElement(C["a"],{disabled:!0,checked:e.hidden})},{label:"\u662f\u5426\u5c55\u5f00",value:d.a.createElement(C["a"],{disabled:!0,checked:e.expanded})},{label:"\u5e03\u5c40",value:e.layout||"\u9ed8\u8ba4\u5e03\u5c40"}]},n=e.name&&e.path;return n?d.a.createElement("div",null,d.a.createElement(ve,Object.assign({},t)),d.a.createElement(ve,Object.assign({},a))):d.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:400}},d.a.createElement(he["a"],{style:{fontSize:48}}),d.a.createElement("div",null,"\u8bf7\u9009\u62e9\u83dc\u5355"))},fe=(a("2qtc"),a("kLXV")),ye=(a("nRaC"),a("5RzL")),ge=a("6Aqn"),Ee=[{label:"\u65e0\u56fe\u6807",value:""},{label:"\u4e3b\u9875",value:"home"},{label:"\u6211\u7684",value:"user"},{label:"\u7fa4\u7ec4",value:"team"},{label:"\u5e94\u7528",value:"appstore"},{label:"\u8bbe\u7f6e",value:"setting"},{label:"\u6dfb\u52a0",value:"plus"},{label:"\u6dfb\u52a0(\u5706)",value:"plus-circle"},{label:"\u7f16\u8f91",value:"edit"},{label:"\u5220\u9664",value:"delete"},{label:"\u5de6\u5bf9\u9f50",value:"align-left"},{label:"\u53f3\u5bf9\u9f50",value:"align-right"},{label:"\u4e0b\u8f7d",value:"cloud-download"},{label:"\u4e0a\u4f20",value:"cloud-upload"},{label:"\u52a0\u8f7d\u4e2d",value:"loading"},{label:"\u6298\u7ebf\u56fe",value:"line-chart"},{label:"\u997c\u72b6\u56fe",value:"pie-chart"},{label:"\u67f1\u72b6\u56fe",value:"bar-chart"},{label:"\u70b9\u56fe",value:"dot-chart"},{label:"\u96f7\u8fbe\u56fe",value:"radar-chart"},{label:"\u5806\u56fe",value:"heat-chart"},{label:"\u4e0b\u964d",value:"fall"},{label:"\u4e0a\u5347",value:"rise"},{label:"\u5b89\u5353",value:"android"},{label:"\u82f9\u679c",value:"apple"},{label:"Windows",value:"windows"},{label:"IE",value:"ie"},{label:"Chrome",value:"chrome"},{label:"Github",value:"github"},{label:"Gitlab",value:"gitlab"},{label:"\u5fae\u535a",value:"weibo"},{label:"\u5fae\u4fe1",value:"wechat"},{label:"QQ",value:"qq"},{label:"Twitter",value:"twitter"},{label:"\u98de\u4e66",value:"feishu"},{label:"Ant Design",value:"ant-design"}],ke=(e,t)=>{return[{dataIndex:"name",title:"\u83dc\u5355\u540d\u79f0",type:"text",rules:[{required:!0,message:"\u83dc\u5355\u540d\u79f0\u5fc5\u586b"},{pattern:/^[^/]+$/,message:"\u4e0d\u5141\u8bb8/"}],placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",addonBefore:d.a.createElement(Se,{options:e.menus,value:t.parentPath,onChange:t.onSelectParentPath})},{dataIndex:"path",title:"\u83dc\u5355\u8def\u5f84",type:"text",rules:[{required:!0,message:"\u83dc\u5355\u8def\u5f84\u5fc5\u586b"},{pattern:/^[0-9a-zA-Z_-]+$/,message:"\u5fc5\u987b\u662f\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001\u6a2a\u7ebf"}],placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u8def\u5f84",addonBefore:d.a.createElement("span",null,"/"===t.parentPath?"/":t.parentPath+"/")},{dataIndex:"icon",title:"\u56fe\u6807",type:"select",placeholder:"\u8bf7\u9009\u62e9\u56fe\u6807",showSearch:!0,allowClear:!0,options:Ee,renderOption(e){return d.a.createElement("span",null,d.a.createElement(p["a"],{style:{marginRight:8},type:e.value}),d.a.createElement("span",null,e.label))}},{dataIndex:"iframe",title:"iframe",type:"text",placeholder:"\u8bf7\u9009\u62e9\u7f51\u5740\uff0c\u652f\u6301\u57df\u540d(\u53ef\u9009)",rules:[{pattern:/^https?:\/\//i,message:"\u8bf7\u8f93\u5165\u6709\u6548\u7f51\u5740"}]},{dataIndex:"redirect",title:"redirect",type:"text",placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c\u8def\u5f84\uff0c\u4ec5\u652f\u6301\u7edd\u5bf9\u8def\u5f84(\u53ef\u9009)",rules:[{pattern:/^\//,message:"\u65e0\u6548\u8def\u5f84\uff0c\u5fc5\u987b\u662f\u4ee5/\u5f00\u5934\u7684\u7edd\u5bf9\u8def\u5f84"}]},{dataIndex:"hidden",title:"\u9690\u85cf",type:"switch",initialValue:!1},{dataIndex:"expanded",title:"\u5c55\u5f00",type:"switch",initialValue:!1},{dataIndex:"layout",title:"\u5e03\u5c40",type:"select",initialValue:"default",options:[{label:"\u9ed8\u8ba4\u5e03\u5c40",value:"default"},{label:"\u63a7\u5236\u53f0\u5e03\u5c40",value:"console"},{label:"\u7a7a\u767d\u5e03\u5c40",value:"blank"},{label:"\u9876\u680f\u5e03\u5c40",value:"header"}]}]};function xe(){return{labelCol:{sm:{span:4},xs:{span:4}},wrapperCol:{sm:{span:20},xs:{span:20}}}}function Ce(e){var t=e.currentMenu;if(!t)return{};var a=t&&t.children&&t.children.length||0,n=t.sort||0;return{parentPath:t.path,sort:100*n+a+1}}function _e(e,t){var a;if(le({name:"ROOT",path:"/",children:e},e=>{e.path!==t||(a=e)}),!a)return-1;var n=a&&a.children&&a.children.length||0,l=a.sort||0;return console.log("parentSort: ",l,a),100*l+n+1}var Se=e=>{var t=e=>{var a=null;return e.children&&e.children.length&&(a=e.children.map(t)),d.a.createElement(ye["a"].TreeNode,{key:e.path,value:e.path,title:e.name},a)};return d.a.createElement(ye["a"],{showSearch:!0,showArrow:!0,treeDefaultExpandAll:!0,style:{width:120},dropdownStyle:{width:365,maxHeight:400,overflow:"auto"},searchPlaceholder:"\u8bf7\u9009\u62e9\u7236\u83dc\u5355",onChange:e.onChange,defaultValue:"/",value:e.value||"/"},t({name:"\u6839\u76ee\u5f55",path:"/",children:e.options}))},we=e=>{var t=Object(s["useState"])("/"),a=W()(t,2),n=a[0],r=a[1],i=Object(s["useState"])(-1),o=W()(i,2),c=(o[0],o[1]),u=Object(s["useState"])({}),p=W()(u,2),m=p[0],h=p[1],v=Object(s["useCallback"])(t=>{var a=_e(e.menus,t);r(t),c(a),h(l()({},m,{sort:a}))},[e.menus,e.currentMenu]),b=Object(s["useRef"])(null),f=Object(s["useCallback"])(()=>{b.current.validateFields((t,a)=>{if(!t){var l=Object.keys(a).reduce((e,t)=>{return"undefined"!==typeof a[t]&&(e[t]=a[t]),e},{});l.path="/"===n?"/"+l.path:n+"/"+l.path,e.onSubmit&&e.onSubmit(l)}})},[e.menus,e.currentMenu,n]),y={};y.parentPath=n,y.onSelectParentPath=v;var g=ke(e,y),E=xe();return Object(s["useEffect"])(()=>{var t=Ce(e);h(t),c(t.sort),t.parentPath&&r(t.parentPath)},[e.currentMenu]),d.a.createElement(fe["a"],{title:"\u65b0\u589e\u83dc\u5355",visible:e.visible,onCancel:e.onClose,onOk:f},d.a.createElement(ge["a"],{ref:b,width:600,itemLayout:E,layout:"horizontal",fields:g,loading:e.loading,values:m,actions:null}))},Oe=(e,t)=>{return[{dataIndex:"name",title:"\u83dc\u5355\u540d\u79f0",type:"text",rules:[{required:!0,message:"\u83dc\u5355\u540d\u79f0\u5fc5\u586b"},{pattern:/^[^/]+$/,message:"\u4e0d\u5141\u8bb8/"}],placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0",addonBefore:d.a.createElement(Pe,{options:e.menus,value:t.parentPath,onChange:t.onSelectParentPath})},{dataIndex:"path",title:"\u83dc\u5355\u8def\u5f84",type:"text",rules:[{required:!0,message:"\u83dc\u5355\u8def\u5f84\u5fc5\u586b"},{pattern:/^[0-9a-zA-Z_-]+$/,message:"\u5fc5\u987b\u662f\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001\u6a2a\u7ebf"}],placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u8def\u5f84",addonBefore:d.a.createElement("span",null,"/"===t.parentPath?"/":t.parentPath+"/")},{dataIndex:"icon",title:"\u56fe\u6807",type:"select",placeholder:"\u8bf7\u9009\u62e9\u56fe\u6807",showSearch:!0,allowClear:!0,options:Ee,filterOption(e,t){return t.props.label.includes(e)||t.props.value.includes(e)},renderOption(e){return d.a.createElement("span",null,d.a.createElement(p["a"],{style:{marginRight:8},type:e.value}),d.a.createElement("span",null,e.label))}},{dataIndex:"iframe",title:"iframe",type:"text",placeholder:"\u8bf7\u9009\u62e9\u7f51\u5740\uff0c\u652f\u6301\u57df\u540d(\u53ef\u9009)",rules:[{pattern:/^https?:\/\//i,message:"\u8bf7\u8f93\u5165\u6709\u6548\u7f51\u5740"}]},{dataIndex:"redirect",title:"redirect",type:"text",placeholder:"\u8bf7\u9009\u62e9\u8df3\u8f6c\u8def\u5f84\uff0c\u4ec5\u652f\u6301\u7edd\u5bf9\u8def\u5f84(\u53ef\u9009)",rules:[{pattern:/^\//,message:"\u65e0\u6548\u8def\u5f84\uff0c\u5fc5\u987b\u662f\u4ee5/\u5f00\u5934\u7684\u7edd\u5bf9\u8def\u5f84"}]},{dataIndex:"hidden",title:"\u9690\u85cf",type:"switch",initialValue:!1},{dataIndex:"expanded",title:"\u5c55\u5f00",type:"switch",initialValue:!1},{dataIndex:"layout",title:"\u5e03\u5c40",type:"select",initialValue:"default",options:[{label:"\u9ed8\u8ba4\u5e03\u5c40",value:"default"},{label:"\u63a7\u5236\u53f0\u5e03\u5c40",value:"console"},{label:"\u7a7a\u767d\u5e03\u5c40",value:"blank"},{label:"\u9876\u680f\u5e03\u5c40",value:"header"}]}]};function Ie(){return{labelCol:{sm:{span:4},xs:{span:4}},wrapperCol:{sm:{span:20},xs:{span:20}}}}function je(e){var t=e.currentMenu;if(!t)return{};var a=t.path.split("/"),n=a.pop(),r=a.slice(1),i=0===r.length?"/":"/"+r.join("/");return l()({},t,{path:n,parentPath:i})}function Ne(e,t){var a;if(le({name:"ROOT",path:"/",children:e},e=>{e.path!==t||(a=e)}),!a)return-1;var n=a&&a.children&&a.children.length||0,l=a.sort||0;return console.log("parentSort: ",l,a),100*l+n+1}var Pe=e=>{var t=e=>{var a=null;return e.children&&e.children.length&&(a=e.children.map(t)),d.a.createElement(ye["a"].TreeNode,{key:e.path,value:e.path,title:e.name},a)};return d.a.createElement(ye["a"],{showSearch:!0,showArrow:!0,treeDefaultExpandAll:!0,style:{width:120},dropdownStyle:{width:365,maxHeight:400,overflow:"auto"},searchPlaceholder:"\u8bf7\u9009\u62e9\u7236\u83dc\u5355",onChange:e.onChange,defaultValue:"/",value:e.value||"/"},t({name:"\u6839\u76ee\u5f55",path:"/",children:e.options}))},Re=e=>{var t=Object(s["useState"])("/"),a=W()(t,2),n=a[0],r=a[1],i=Object(s["useState"])(-1),o=W()(i,2),c=(o[0],o[1]),u=Object(s["useState"])({}),p=W()(u,2),m=p[0],h=p[1],v=Object(s["useCallback"])(t=>{var a=Ne(e.menus,t);r(t),c(a),h(l()({},m,{sort:a}))},[e.menus,e.currentMenu]),b=Object(s["useRef"])(null),f=Object(s["useCallback"])(()=>{b.current.validateFields((t,a)=>{if(!t){var r=Object.keys(a).reduce((e,t)=>{return"undefined"!==typeof a[t]&&(e[t]=a[t]),e},{});r.path="/"===n?"/"+r.path:n+"/"+r.path,r._id=e.currentMenu._id,h(e=>l()({},e,r,{path:e.path})),e.onSubmit&&e.onSubmit(r)}})},[e.menus,e.currentMenu,n]),y={};y.parentPath=n,y.onSelectParentPath=v;var g=Oe(e,y),E=Ie();return Object(s["useEffect"])(()=>{var t=je(e);h(t),c(t.sort),t.parentPath&&r(t.parentPath)},[e.currentMenu]),d.a.createElement(fe["a"],{title:"\u65b0\u589e\u83dc\u5355",visible:e.visible,onCancel:e.onClose,onOk:f},d.a.createElement(ge["a"],{ref:b,width:600,itemLayout:E,layout:"horizontal",fields:g,loading:e.loading,values:m,actions:null}))},Ae=(Q["a"].TreeNode,e=>{return e.map((e,t)=>{var a={};return a.key=e.path,a.label=e.name,a.value=e.path,e.children&&0!==e.children.length&&(a.children=Ae(e.children)),a})}),Me=e=>{var t=e.dataSource,a=Object(s["useState"])(null),n=W()(a,2),l=n[0],r=n[1],i=Object(s["useCallback"])(e=>{r(e)},[t]),o=Object(s["useCallback"])(e=>{r(e),x()},[t]),c=Object(s["useCallback"])(e=>{r(e),j()},[t]),u=Object(s["useCallback"])(t=>{r(null),e.onDelete(t._id,t.name)},[t]),p=Object(s["useCallback"])(t=>{r(t.node),e.onReorder(t)},[t]);Object(s["useEffect"])(()=>{e.onQuery()},[]);var m=Object(s["useState"])(""),h=W()(m,2),v=h[0],b=h[1],f=Object(s["useCallback"])(e=>b(e.target.value),[]),y=Object(s["useState"])(!1),g=W()(y,2),E=g[0],k=g[1],x=Object(s["useCallback"])(()=>{k(!0)},[l]),C=Object(s["useCallback"])(()=>{k(!1)},[l]),_=Object(s["useState"])(!1),S=W()(_,2),O=S[0],I=S[1],j=Object(s["useCallback"])(()=>{I(!0)},[l]),N=Object(s["useCallback"])(()=>{I(!1)},[l]),P=Object(s["useCallback"])(t=>{e.onCreate(t).then(()=>C())},[l]),R=Object(s["useCallback"])(t=>{e.onUpdate(t).then(()=>N()).then(()=>r(t))},[l]);return d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",minHeight:"calc(100vh - 306px)"}},d.a.createElement("div",{style:{borderRight:"1px solid #e8e8e8",marginRight:20}},d.a.createElement("div",{style:{marginBottom:12,padding:"0 24px"}},d.a.createElement(w["a"].Search,{onChange:f})),d.a.createElement(ce,{style:{width:300,flexShrink:0,marginRight:24},keyword:v,nodes:t,onSelect:i,onAddMenu:o,onUpdateMenu:c,onRemoveMenu:u,onReorder:p})),d.a.createElement("div",{style:{flex:1}},d.a.createElement(be,Object.assign({},l)),d.a.createElement(we,{menus:t,currentMenu:l,visible:E,onClose:C,onSubmit:P}),d.a.createElement(Re,{menus:t,currentMenu:l,visible:O,onClose:N,onSubmit:R})))};Me.defaultProps={dataSource:[],form:[{dataIndex:"parent",title:"\u7236\u83dc\u5355",type:"tree-select",options:function(){var e=G()(q.a.mark(function e(){var t,a,n,l;return q.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=doreamon.route.parse("/application/:id",location.pathname),a=t.id,e.next=3,Object(H["a"])({method:"GET",path:"/applications/:id/menus",params:{id:a}});case 3:return n=e.sent,l=Ae(Object(Z["create"])("flat",n).nest),console.log(l),e.abrupt("return",l);case 7:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{dataIndex:"name",title:"\u540d\u79f0",type:"text",rules:[{required:!0}]},{dataIndex:"path",title:"\u8def\u5f84",type:"text",rules:[{required:!0}]},{dataIndex:"icon",title:"\u56fe\u6807",type:"text"},{dataIndex:"iframe",title:"iframe",type:"text"},{dataIndex:"redirect",title:"redirect",type:"text"},{dataIndex:"sort",title:"\u6392\u5e8f",type:"number",initialValue:0},{dataIndex:"hidden",title:"\u9690\u85cf",type:"switch",initialValue:!1},{dataIndex:"collapsed",title:"\u6298\u53e0",type:"switch",initialValue:!0},{dataIndex:"layout",title:"\u5e03\u5c40",type:"select",initialValue:"console",options:[{label:"console",value:"console"},{label:"blank",value:"blank"}]}]};var Fe=e=>e[g["c"]],Te=e=>({onQuery:()=>e({type:"".concat(g["c"],"/query")}),onCreate:t=>e({type:"".concat(g["c"],"/create"),payload:t}),onUpdate:t=>e({type:"".concat(g["c"],"/update"),payload:t}),onDelete:(t,a)=>e({type:"".concat(g["c"],"/open/remove/dialog"),payload:{menuId:t,name:a}}),onReorder:t=>e({type:"".concat(g["c"],"/reorder"),payload:t})}),De=Object(u["c"])(Fe,Te)(Me),ze=a("ahF+"),Ue=a.n(ze),Le=[{dataIndex:"site-theme",title:"\u4e3b\u8272\u8c03",type:"select",options:[{label:"dark",value:"\u9ed1\u8272"},{label:"light",value:"\u767d\u8272"}],initialValue:"dark"},{dataIndex:"primary",title:"\u5168\u5c40\u8272",type:"input"},{dataIndex:"link",title:"\u94fe\u63a5\u8272",type:"input"},{dataIndex:"success",title:"\u6210\u529f\u8272",type:"input"},{dataIndex:"warning",title:"\u8b66\u544a\u8272",type:"input"},{dataIndex:"error",title:"\u9519\u8bef\u8272",type:"input"}],qe=e=>{return d.a.createElement(ge["a"],{layout:"horizontal",fields:Le})},Ve=a("HuSx"),Ge=e=>{return d.a.createElement(Ve["a"],{disableScrollX:!0,actions:e.actions,columns:e.columns,dataSource:e.data,pagination:e.pagination,renderLeftActions:()=>d.a.createElement("div",{style:{fontSize:20,fontWeight:"bold"}},"\u591a\u56fd\u8bed\u8a00")})};Ge.defaultProps={actions:[{key:"batch:add",type:"single",title:"\u6dfb\u52a0",buttonType:"primary",direction:"right"},{key:"batch:remove",type:"batch",title:"\u5220\u9664",direction:"right"},{key:"item:edit",type:"item",buttonType:"primary",icon:"edit"},{key:"item:delete",type:"item",buttonType:"danger",icon:"delete"}],columns:[{title:"ID",dataIndex:"id"},{title:"\u7f16\u7801",dataIndex:"code"},{title:"\u82f1\u6587",dataIndex:"en"},{title:"\u4e2d\u6587",dataIndex:"cn"}],data:[{id:"1",code:"admin",description:"\u7ba1\u7406\u5458",en:"Admin",cn:"\u7ba1\u7406\u5458",cnt:"",createdAt:"2018-04-22 11:39",updatedAt:"2018-04-22 11:39"},{id:"2",code:"superadmin",description:"\u7ba1\u7406\u5458",en:"Super Admin",cn:"\u8d85\u7ea7\u7ba1\u7406\u5458",cnt:"",createdAt:"2018-04-22 11:39",updatedAt:"2018-04-22 11:39"}],pagination:{current:1,pageSize:10,total:1}};var Be=Q["a"].TreeNode,We=e=>{var t=Object(s["useState"])([{icon:"appstore",iframe:null,redirect:null,sort:1,hidden:!1,expanded:!1,layout:"default",_id:"5dc1454275e97ccc1df94bee",title:"\u5546\u4fdd\u7406\u8d54",key:"/claim",children:[{icon:"team",iframe:null,redirect:null,sort:101,hidden:!1,expanded:!1,layout:"default",_id:"5dc145d775e97ccc1df94bfa",title:"\u7406\u8d54\u5ba1\u6838",key:"/claim/audit",children:[{icon:"setting",iframe:null,redirect:null,sort:10101,hidden:!1,expanded:!1,layout:"default",_id:"5dc1464e75e97ccc1df94c03",title:"\u7406\u8d54\u98ce\u63a7",key:"/claim/audit/claim-risk",children:[]},{icon:null,iframe:null,redirect:null,sort:10102,hidden:!1,expanded:!1,layout:"default",_id:"5dc1456b75e97ccc1df94bf1",title:"\u7406\u8d54\u5386\u53f2",key:"/claim/audit/history",children:[]}]},{icon:null,iframe:null,redirect:null,sort:102,hidden:!1,expanded:!1,layout:"default",_id:"5dc145a775e97ccc1df94bf7",title:"\u4f4f\u9662\u65e5\u6e05\u5355",key:"/claim/hospital-inventory",children:[]},{icon:null,iframe:null,redirect:null,sort:103,hidden:!1,expanded:!1,layout:"default",_id:"5dc1458575e97ccc1df94bf4",title:"\u4e0a\u7ebf\u533b\u9662",key:"/claim/hospital",children:[]}]},{icon:"appstore",iframe:null,redirect:null,sort:2,hidden:!1,expanded:!1,layout:"default",_id:"5de87c2eace61812a6861b82",title:"\u533b\u7597\u6587\u672c\u7ed3\u6784\u5316",key:"/disease-structure",children:[{icon:null,iframe:"http://18258-nova-mdp-bafe-app-insurance-robot-platform.test.za-tech.net/demos/disease-structure",redirect:null,sort:201,hidden:!1,expanded:!1,layout:"default",_id:"5de87c5face61812a6861b85",title:"\u667a\u80fd\u62c6\u89e3",key:"/disease-structure/destructure",children:[]}]},{icon:"weibo",iframe:null,redirect:null,sort:3,hidden:!1,expanded:!1,layout:"default",_id:"5dc1476875e97ccc1df94c11",title:"\u6838\u4fdd\u98ce\u63a7",key:"/hebao-fengkong",children:[{icon:null,iframe:null,redirect:null,sort:301,hidden:!1,expanded:!1,layout:"default",_id:"5dc1477975e97ccc1df94c14",title:"\u98ce\u63a7\u914d\u7f6e",key:"/hebao-fengkong/configuration",children:[]}]},{icon:"home",iframe:null,redirect:null,sort:4,hidden:!1,expanded:!0,layout:"default",_id:"5dc1443275e97ccc1df94bdd",title:"\u5546\u4fdd\u8c03\u67e5",key:"/insurance",children:[{icon:null,iframe:"http://16723-mdp-medical-zat-mdp-kb.test.za-tech.net/?ticket=ST-13871318-NWRfQCU5AHf6wZqrAXypxcbcyMIX7XAzJAg#/SocInsInfo",redirect:null,sort:401,hidden:!1,expanded:!1,layout:"default",_id:"5dc144de75e97ccc1df94be6",title:"\u6848\u4ef6\u8c03\u67e5",key:"/insurance/case-investigation",children:[]},{icon:null,iframe:"http://17147-nova-mdp-web-mdp-imt.test.za-tech.net/#/insurance/insuranceInvestigation",redirect:null,sort:402,hidden:!1,expanded:!1,layout:"default",_id:"5dc144a075e97ccc1df94be0",title:"\u8c03\u67e5\u4f5c\u4e1a",key:"/insurance/investigation",children:[]},{icon:null,iframe:"http://16723-mdp-medical-zat-mdp-kb.test.za-tech.net/#/SocStatistics",redirect:null,sort:403,hidden:!1,expanded:!1,layout:"default",_id:"5dc144ef75e97ccc1df94be9",title:"\u8d22\u52a1\u8c03\u67e5",key:"/insurance/money-investigation",children:[]},{icon:null,iframe:"http://17147-nova-mdp-web-mdp-imt.test.za-tech.net/#/insurance/investigate",redirect:null,sort:404,hidden:!1,expanded:!1,layout:"default",_id:"5dc144c375e97ccc1df94be3",title:"\u533a\u57df\u8c03\u67e5",key:"/insurance/region-investigation",children:[]}]},{icon:"edit",iframe:null,redirect:null,sort:5,hidden:!1,expanded:!1,layout:"default",_id:"5dc1468175e97ccc1df94c06",title:"\u793e\u4fdd\u76ee\u5f55",key:"/social",children:[{icon:null,iframe:null,redirect:null,sort:501,hidden:!1,expanded:!1,layout:"default",_id:"5dc1469975e97ccc1df94c0b",title:"\u6570\u636e\u7edf\u8ba1",key:"/social/statistic",children:[]},{icon:null,iframe:null,redirect:null,sort:502,hidden:!1,expanded:!1,layout:"default",_id:"5dc146ba75e97ccc1df94c0e",title:"\u6570\u636e\u67e5\u8be2",key:"/social/statustic-search",children:[]}]},{icon:"android",iframe:null,redirect:null,sort:6,hidden:!1,expanded:!1,layout:"default",_id:"5de87cb2ace61812a6861b8a",title:"\u6838\u4fdd\u673a\u5668\u4eba",key:"/underwriting",children:[{icon:null,iframe:"http://18258-nova-mdp-bafe-app-insurance-robot-platform.test.za-tech.net/disease-tag/disease-relation",redirect:null,sort:601,hidden:!1,expanded:!1,layout:"default",_id:"5de87cf8ace61812a6861b91",title:"\u75be\u75c5\u4fe1\u606f",key:"/underwriting/disease",children:[]},{icon:null,iframe:"http://18258-nova-mdp-bafe-app-insurance-robot-platform.test.za-tech.net/disease-tag/disease-product",redirect:null,sort:602,hidden:!1,expanded:!1,layout:"default",_id:"5de87db7ace61812a6861b97",title:"\u4ea7\u54c1\u4fe1\u606f",key:"/underwriting/product",children:[]},{icon:null,iframe:"http://18258-nova-mdp-bafe-app-insurance-robot-platform.test.za-tech.net/disease-tag/disease-risk",redirect:null,sort:603,hidden:!1,expanded:!1,layout:"default",_id:"5de87d8eace61812a6861b94",title:"\u9669\u79cd\u4fe1\u606f",key:"/underwriting/risk",children:[]}]}]),a=W()(t,2),n=a[0],l=(a[1],Object(s["useState"])([])),r=W()(l,2),i=(r[0],r[1],()=>{e.onSubmit(targetKeys,()=>{})}),o=e=>e.map(e=>{return e.children?d.a.createElement(Be,{title:e.title,key:e.key,dataRef:e},o(e.children)):d.a.createElement(Be,Object.assign({key:e.key},e))});return d.a.createElement(fe["a"],{width:700,bodyStyle:{height:500,overflow:"auto",padding:12},title:"\u5173\u8054\u83dc\u5355",visible:e.visible,onCancel:e.onClose,onOk:i},d.a.createElement(Q["a"],{checkable:!0,defaultExpandAll:!0},o(n)))};We.displayName="DialogAssociateMenu";var Qe=We,He=(a("8R5B"),a("aJyg")),Ze=e=>{var t=Object(s["useState"])([{key:"ADMIN",title:"\u6dfb\u52a0\u7528\u6237"},{key:"COMMON",title:"\u5220\u9664\u7528\u6237"},{key:"FROM_WECHAT",title:"\u66f4\u65b0\u7528\u6237"},{key:"FROM_WEIBO",title:"\u5fae\u535a\u7528\u6237"}]),a=W()(t,2),n=a[0],l=(a[1],Object(s["useState"])([])),r=W()(l,2),i=r[0],o=r[1],c=()=>{e.onSubmit(i,()=>{})},u=e=>{o(e)},p=(e,t)=>{};return d.a.createElement(fe["a"],{width:700,bodyStyle:{height:500},title:"\u5173\u8054\u6743\u9650",visible:e.visible,onCancel:e.onClose,onOk:c},d.a.createElement(He["a"],{style:{height:"100%",display:"flex"},listStyle:{flex:1,height:"100%"},operationStyle:{display:"flex",flexFlow:"column wrap",justifyContent:"center"},titles:["\u672a\u5173\u8054\u6743\u9650","\u5df2\u5173\u8054\u6743\u9650"],showSearch:!0,dataSource:n,targetKeys:i,onChange:u,onSearch:p,render:e=>e.title}))};Ze.displayName="DialogAssociatePermission";var Ke=Ze,Je=e=>{var t=()=>{return e.onActionTrigger({effect:"service/query"})};Object(s["useEffect"])(()=>{t()},[]);var a=t=>e.visible[t],n=t=>()=>e.onActionTrigger({effect:"close/dialog"},t);return d.a.createElement(d.a.Fragment,null,d.a.createElement(Ve["a"],Object.assign({disableScrollX:!0},e.attributes,e.datasets,{renderLeftActions:()=>d.a.createElement("div",{style:{fontSize:20,fontWeight:"bold"}},"\u7cfb\u7edf\u529f\u80fd"),onActionTrigger:e.onActionTrigger})),d.a.createElement(Qe,{visible:a("associate-menu"),onClose:n("associate-menu")}),d.a.createElement(Ke,{visible:a("associate-permission"),onClose:n("associate-permission")}))};Je.displayName="Functions";var Xe=e=>e[g["b"]],Ye=function(e){return{onActionTrigger:(t,a)=>e({type:"".concat(g["b"],"/dispatcher"),payload:{meta:t,data:a}}),onMessage:(t,a)=>e({type:"messages/tip/".concat(t),payload:a})}},$e=Object(u["c"])(Xe,Ye)(Je),et=a("Qbqb"),tt=a("IGBW"),at=a("L+E0"),nt=a("W7sc"),lt=(c["a"].TabPane,g["d"].namespace);class rt extends s["Component"]{constructor(){super(...arguments),this.state={currentMenu:"OAuths"},this.onCopy=((e,t)=>{this.props.onCopy(e,t)}),this.onOpenRefreshClientSecretDialog=((e,t)=>{this.props.onOpenRefreshClientSecretDialog(e,t)}),this.onUpload=((e,t)=>{this.props.onSaveTempLogo(t)}),this.onSubmit=(e=>{this.props.onUpdate(e)}),this.onMenuChange=(e=>{this.setState({currentMenu:e.key})}),this.getMenus=(()=>{var e=this.props,t=e.loading,a=e.name,n=e.logo,l=e.redirectUri,r=e.description,i=e.clientId,o=e.clientSecret,c=e.clientGrants,s=e.isSilentAuthorized,u=e.isSupportQRCodeLogin,p=e.connections;return[{key:"Settings",icon:"setting",title:"\u914d \u7f6e",render:()=>d.a.createElement(U,{loading:t,name:a,logo:n,redirectUri:l,description:r,clientId:i,clientSecret:o,clientGrants:c,isSilentAuthorized:s,isSupportQRCodeLogin:u,connections:p,onCopy:this.onCopy,onRefresh:this.onOpenRefreshClientSecretDialog,onSubmit:this.onSubmit,onUpload:this.onUpload,renderBottom:this.renderDanger})},{key:"Menus",icon:"question-circle",title:"\u83dc \u5355",render:()=>d.a.createElement(De,{application:this.props.match.params.id})},{key:"Permissions",icon:"question-circle",title:"\u6743 \u9650",render:()=>d.a.createElement(et["default"],null)},{key:"Roles",icon:"question-circle",title:"\u89d2 \u8272",render:()=>d.a.createElement(tt["default"],null)},{key:"Users",icon:"user",title:"\u7528 \u6237",render:()=>d.a.createElement(at["default"],{application:this.props.match.params.id})},{key:"OAuths",icon:"login",title:"\u7b2c\u4e09\u65b9\u767b\u5f55",render:()=>d.a.createElement(nt["default"],{application:this.props.match.params.id})},{key:"Functions",icon:"question-circle",title:"\u529f \u80fd",render:()=>d.a.createElement($e,null)},{key:"Themes",icon:"question-circle",title:"\u4e3b \u9898",render:()=>d.a.createElement(qe,null)},{key:"Languages",icon:"question-circle",title:"i18n",render:()=>d.a.createElement(Ge,null)}]}),this.renderDanger=(()=>{return d.a.createElement("div",{className:Ue.a.dangerZone},d.a.createElement(y,{className:Ue.a.dangerItem,titleClassName:Ue.a.title,descriptionClassName:Ue.a.description,name:"\u91cd\u7f6eClient Secret",label:"\u6240\u6709\u4e0e\u8be5\u5e94\u7528\u5173\u8054\u7684\u5e94\u7528\u90fd\u4f1a\u5931\u6548",action:d.a.createElement(o["a"],{type:"danger",onClick:()=>this.onOpenRefreshClientSecretDialog(this.props.name,this.props.clientId)},"\u91cd\u7f6e")}),d.a.createElement(y,{className:Ue.a.dangerItem,titleClassName:Ue.a.title,descriptionClassName:Ue.a.description,name:"\u5220\u9664\u8be5\u5e94\u7528",label:"\u6240\u6709\u4e0e\u8be5\u5e94\u7528\u5173\u8054\u7684\u5e94\u7528\u90fd\u4f1a\u5931\u6548",action:d.a.createElement(o["a"],{type:"danger",onClick:this.props.onDelete},"\u5220\u9664")}))})}renderPanel(){var e=this.state.currentMenu,t=this.getMenus().find(t=>t.key===e);return null===t||void 0===t?void 0:t.render()}renderMain(){var e=this.props,t=e.name,a=e.logo,n=e.clientId,l=e.onPreviewImage,r=this.getMenus();return d.a.createElement("div",null,d.a.createElement("div",{className:Ue.a.header},d.a.createElement("img",{className:Ue.a.logo,src:a,onClick:()=>l(a)}),d.a.createElement("div",{className:Ue.a.info},d.a.createElement("div",{className:Ue.a.title},t),d.a.createElement("div",{className:Ue.a.clientId},d.a.createElement("label",null,"Client ID:"),d.a.createElement("span",null,n)))),d.a.createElement("div",{className:Ue.a.body},d.a.createElement("div",{className:Ue.a.left},d.a.createElement(i["a"],null,r.map(e=>d.a.createElement(i["a"].Item,{key:e.key,onClick:()=>this.onMenuChange(e)},d.a.createElement(p["a"],{type:e.icon}),e.title)))),d.a.createElement("div",{className:Ue.a.right},this.renderPanel())))}render(){var e=this.props.loading;return d.a.createElement("div",{className:Ue.a.container},d.a.createElement(m["a"],{loading:e}),d.a.createElement(r["a"],{loading:e,avatar:!0,active:!0,paragraph:{rows:17}},this.renderMain()))}}rt.defaultProps={loading:!1};var it=e=>{var t=e[lt],a=e.loading.effects;return l()({loading:a["".concat(lt,"/query")]},t)},ot=e=>({onPreviewImage:t=>e({type:"viewers/preview",payload:t}),onUpdate:t=>e({type:"".concat(lt,"/update"),payload:t}),onDelete:()=>e({type:"".concat(lt,"/dialog/delete")}),onChange:t=>e({type:"".concat(lt,"/save")}),onCopy:(t,a)=>e({type:"messages/tip/success",payload:"\u590d\u5236\u6210\u529f"}),onOpenRefreshClientSecretDialog:(t,a)=>e({type:"".concat(lt,"/dialog/refreshClientSecret"),payload:{name:t,value:a}}),onSaveTempLogo:t=>e({type:"".concat(lt,"/save/logo"),payload:t})});t["default"]=Object(u["c"])(it,ot)(rt)}}]);